# SQL

В этом блоке представлены решения задач с помощью SQL запросов.

Запросы выполнялись в Tabix (ClickHouse). Для визуализации использовался Redash(ClickHouse/PostgreSQL).

Далее рассмотрены данные, которые необходимо анализировать в процессе решения задач.


# Таблица titles
Таблица с информацией о произведениях — фильмах, сериалах, шоу

* ***id*** — уникальный идентификатор;
* ***type*** — тип произведения: фильм, сериал, короткометражка;
* ***popular_title*** — популярное название;
* ***original_title*** — оригинальное название;
* ***year_of_start*** — год выпуска/старта сериала;
* ***year_of_end*** — год окончания сериала;
* ***is_adult*** — есть ли у фильма ограничение 18+;
* ***run_time*** — длительность в минутах;
* ***genres*** — жанры, к которым относится произведение.
# Таблица episodes
Таблица с эпизодами сериалов

* ***title_id*** — ссылка на ***title_id*** этого эпизода
* ***parent_id*** — ссылка на ***title_id*** всего сериала
* ***season*** — номер сезона
* ***episode*** — номер эпизода

# Таблица ratings
Таблица с рейтингами от зрителей

* ***title_id*** — оцениваемое произведение
* ***avg_rating*** — средний рейтинг
* ***vote_cnt*** — количество голосовавших

# Таблица principals
Таблица с людьми, участвовавшими в создании произведений.

* ***title_id*** — id произведения;
* ***ordering*** — уникальный номер в рамках одного ***title_id***;
* ***person_id*** — id из таблицы persons;
* ***category*** — категория работы в рамках произведения;
* ***job*** — конкретная работа. Человек может быть автором произведения и в рамках фильма работать над адаптацией текста;
* ***characters*** — персонажи, которых играл человек.

# Таблица persons
Таблица с людьми, относящимися к миру кино.

* ***id*** — уникальный идентификатор человека;
* ***name*** — имя;
* ***year_of_birth*** — год рождения;
* ***year_of_death*** — год смерти;
* ***professions*** — список профессий.
